'use strict';

module.exports = extend;

function extend(origin, add, deep) {
  if (!add || origin.constructor !== Object) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    if (
      deep === true &&
      origin[keys[i]] &&
      origin[keys[i]].constructor === Object &&
      add[keys[i]].constructor === Object
    ) {
      origin[keys[i]] = extend(origin[keys[i]], add[keys[i]], deep);
    } else {
      origin[keys[i]] = add[keys[i]];
    }
  }
  return origin;
}
